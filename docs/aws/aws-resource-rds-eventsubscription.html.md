AWS::RDS::EventSubscription
===========================

Use the `AWS::RDS::EventSubscription` resource to get notifications for Amazon Relational Database Service events through the Amazon Simple Notification Service. For more information, see [Using Amazon RDS Event Notification](http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_Events.html) in the *Amazon Relational Database Service User Guide*.

Syntax
------

``` {.programlisting}
      {
  "Type" : "AWS::RDS::EventSubscription",
  "Properties" : {
    "Enabled" : Boolean,
    "EventCategories" : [ String, ... ],
    "SnsTopicArn" : String,
    "SourceIds" : [ String, ... ],
    "SourceType" : String
  }
}
    
```

Properties
----------

 `Enabled`   
Indicates whether to activate the subscription. If you don't specify this property, AWS CloudFormation activates the subscription.

*Required*: No

*Type*: Boolean

*Update requires*: [No interruption](using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt)

 `EventCategories`   
A list of event categories that you want to subscribe to for a given source type. If you don't specify this property, you are notified about all event categories. For more information, see [Using Amazon RDS Event Notification](http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_Events.html) in the *Amazon Relational Database Service User Guide*.

*Required*: No

*Type*: List of strings

*Update requires*: [No interruption](using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt)

 `SnsTopicArn`   
The Amazon Resource Name (ARN) of an Amazon SNS topic that you want to send event notifications to.

*Required*: Yes

*Type*: String

*Update requires*: [Replacement](using-cfn-updating-stacks-update-behaviors.html#update-replacement)

 `SourceIds`   
A list of identifiers for which Amazon RDS provides notification events.

If you don't specify a value, notifications are provided for all sources. If you specify multiple values, they must be of the same type. For example, if you specify a database instance ID, all other values must be database instance IDs.

*Required*: No

*Type*: List of strings

*Update requires*: [No interruption](using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt)

 `SourceType`   
The type of source for which Amazon RDS provides notification events. For example, if you want to be notified of events generated by a database instance, set this parameter to `db-instance`. If you don't specify a value, notifications are provided for all source types. For valid values, see the `SourceType` parameter for the [CreateEventSubscription](http://docs.aws.amazon.com/AmazonRDS/latest/APIReference/API_CreateEventSubscription.html) action in the *Amazon Relational Database Service API Reference*.

*Required*: Conditional. If you specify the `SourceIds` or `EventCategories` property, you must specify this property.

*Type*: String

*Update requires*: [Replacement](using-cfn-updating-stacks-update-behaviors.html#update-replacement) if you're removing this property after it was previously specified. All other updates require [no interruption](using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt).

Return Value
------------

When the logical ID of this resource is provided to the `Ref` intrinsic function, `Ref` returns the resource name. For example:

``` {.programlisting}
      { "Ref": "myEventSubscription" }
    
```

For the resource with the logical ID `myEventSubscription`, `Ref` returns the Amazon RDS event subscription name, such as: `mystack-myEventSubscription-1DDYF1E3B3I`.

For more information about using the `Ref` function, see [Ref](intrinsic-function-reference-ref.html "Ref").

Example
-------

The following snippet creates an event subscription for an existing database instance `db-instance-1` and a database with the logical ID `myDBInstance`, which is declared elsewhere in the same template.

``` {.programlisting}
      "myEventSubscription": {
  "Type": "AWS::RDS::EventSubscription",
  "Properties": {
    "EventCategories": ["configuration change", "failure", "deletion"],
    "SnsTopicArn": "arn:aws:sns:us-west-2:123456789012:example-topic",
    "SourceIds": ["db-instance-1", { "Ref" : "myDBInstance" }],
    "SourceType":"db-instance",
    "Enabled" : false
  }
}
    
```
